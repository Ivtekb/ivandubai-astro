---
import { getCollection } from 'astro:content';
import BaseLayout from '../../layouts/BaseLayout.astro';
import CasePreview from '../../components/CasePreview.astro';
import Pagination from '../../components/Pagination.astro';

// –î–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º getStaticPaths
export async function getStaticPaths({ paginate }) {
  const cases = (await getCollection('cases')).sort((a, b) =>
    new Date(b.data.publishDate) - new Date(a.data.publishDate)
  );
  return paginate(cases, { pageSize: 8 });
}

const { page } = Astro.props;
const casesList = page.data;
---

<BaseLayout
  title="–ö–µ–π—Å—ã –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –≤ –î—É–±–∞–µ ‚Äî —Ä–µ–∞–ª—å–Ω—ã–µ –∏—Å—Ç–æ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞ | –ò–ò-–ø–æ–¥—Ö–æ–¥ –∫ –≤—ã–±–æ—Ä—É"
  description="–ñ–∏–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –ø–æ–∫—É–ø–∫–∏ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –≤ –î—É–±–∞–µ: –æ—Ç –ø–µ–Ω—Ç—Ö–∞—É—Å–∞ –Ω–∞ –ü–∞–ª—å–º–µ –¥–æ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã—Ö –∫–≤–∞—Ä—Ç–∏—Ä. –†–µ–∞–ª—å–Ω—ã–µ –∫–µ–π—Å—ã —Å –ò–ò-–∞–Ω–∞–ª–∏–∑–æ–º, —á–µ—Å—Ç–Ω—ã–µ –∏—Å—Ç–æ—Ä–∏–∏ –∏ –∞–≤—Ç–æ—Ä—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è."
  showHeader={false}
>
  <div class="max-w-3xl mx-auto px-4 py-12 sm:py-16">
    
    <!-- –ê–ù–û–ù–°-–ë–õ–û–ö (–≤–µ—Ä—Ö —Å—Ç—Ä–∞–Ω–∏—Ü—ã) -->
    <h1 class="text-3xl sm:text-4xl lg:text-5xl font-serif font-semibold mb-6 leading-tight">
      –ñ–∏–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ ‚Äî —Ä–µ–∞–ª—å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
    </h1>
    <p class="text-base font-normal mb-2">
      –í –∫–∞–∂–¥–æ–º –∫–µ–π—Å–µ ‚Äî —Å–≤–æ–π —Ä–∏—Ç–º, —Å–≤–æ–π —Ñ–æ–∫—É—Å, —Å–≤–æ—è –ª–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞. –ó–¥–µ—Å—å –Ω–µ—Ç —à–∞–±–ª–æ–Ω–æ–≤: –º—ã –æ—Ç–∫–∞–∑—ã–≤–∞–µ–º—Å—è –æ—Ç –∏–¥–µ–∞–ª—å–Ω–æ–≥–æ, —á—Ç–æ–±—ã –Ω–∞–π—Ç–∏ —Å–æ–≤–ø–∞–¥–∞—é—â–µ–µ.
    </p>
    <p class="mb-4 text-base font-serif italic text-center">
      –û—Ç –ø–µ—Ä–≤–æ–≥–æ –∑–≤–æ–Ω–∫–∞ –¥–æ –∫–ª—é—á–µ–π ‚Äî —Å–º–æ—Ç—Ä–∏ –∫–∞–∫ —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ
    </p>
    <div class="flex justify-center mb-10">
      <a 
        href="/contact"
        class="px-8 py-3 rounded-full border border-black font-serif italic text-lg hover:bg-black hover:text-white transition-colors no-underline"
        style="color: inherit;"
      >
        –û–±—Å—É–¥–∏—Ç—å –∫–µ–π—Å
      </a>
    </div>

    <hr class="my-10 sm:my-12 border-dashed border-black" />

    <!-- –°–ü–ò–°–û–ö –ö–ï–ô–°–û–í -->
    <div id="cases-list" class="mb-12 sm:mb-16">
      <h2 style="font-size: 1.5rem; font-family: ui-serif, Georgia, Cambria, serif; font-weight: 600; margin-bottom: 2rem; line-height: 1.2;" class="sm:text-3xl">
        –ò–∑—É—á–∏ —Ä–µ–∞–ª—å–Ω—ã–µ –∫–µ–π—Å—ã –∏ –ø–æ–¥—Ö–æ–¥—ã
      </h2>
      
      <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∫–µ–π—Å—ã –∏–∑ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ -->
      <div class="mb-8">
        {casesList.map((caseItem) => (
          <CasePreview case={caseItem} class="mb-10 sm:mb-12" />
        ))}
        <Pagination page={page} class="my-10" />
      </div>
    </div>

    <hr class="my-10 sm:my-12 border-dashed border-black" />

    <!-- –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ô –ë–õ–û–ö –ü–û–°–õ–ï –ö–ê–†–¢–û–ß–ï–ö -->
    <div class="mb-10">
      <h3 style="font-size: 1.125rem; font-family: ui-serif, Georgia, Cambria, serif; font-weight: 600; margin-bottom: 0.75rem; line-height: 1.2;" class="sm:text-xl">üß≠ –ö–∞–∂–¥—ã–π –∫–µ–π—Å ‚Äî —ç—Ç–æ –Ω–µ —Ñ–∏–Ω–∞–ª, –∞ –∫–∞—Ä—Ç–∞ –º–∞—Ä—à—Ä—É—Ç–∞</h3>
      <p class="mb-4 text-base">–ö–∞–∫–æ–π —Ä–∏—Ç–º —É —Ç–≤–æ–µ–π –∂–∏–∑–Ω–∏? –°—Ü–µ–Ω–∞—Ä–∏–π —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ ‚Äî —Ä–∞—Å—Å–∫–∞–∂–∏ –æ —Å–µ–±–µ.</p>
      <div class="flex justify-center">
        <a 
          href="/contact"
          class="px-8 py-3 rounded-full border border-black font-serif italic text-lg hover:bg-black hover:text-white transition-colors no-underline"
          style="color: inherit;"
        >
          –û—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É
        </a>
      </div>
    </div>

  </div>
</BaseLayout>