---
import siteConfig from '../data/site-config';

// Простое определение языка без сложных импортов
const currentPath = Astro.url.pathname;
const isEnglish = currentPath.startsWith('/en');

// Переводы для subtitle
const subtitleTranslations = {
  ru: 'Недвижимость ОАЭ вне шаблонов. Интеллектуальные решения.',
  en: 'UAE Real Estate beyond templates. Intelligent solutions.'
};

const currentSubtitle = isEnglish ? subtitleTranslations.en : subtitleTranslations.ru;
---

<header class="w-full max-w-3xl mx-auto mb-12 sm:mb-16">
  <div class="flex items-center justify-between">
    <!-- Логотип (как раньше) -->
    <div>
      {siteConfig.logo && siteConfig.logo?.src ? (
        <a href={isEnglish ? '/en/' : '/'}>
          <img src={siteConfig.logo.src} alt={siteConfig.logo.alt || ''} class="max-h-12" />
        </a>
      ) : (
        <a class="font-serif text-2xl leading-tight font-medium text-theme-foreground sm:text-3xl" href={isEnglish ? '/en/' : '/'}>
          {siteConfig.title}
        </a>
      )}
      {/* Используем переведенный subtitle */}
      <p class="text-sm leading-tight mt-1">{currentSubtitle}</p>
    </div>

    <!-- Простой переключатель языков -->
    <div class="flex items-center space-x-2 text-sm">
      <a 
        href={isEnglish ? currentPath.replace('/en', '') || '/' : currentPath}
        class={`px-2 py-1 transition-colors no-underline ${
          !isEnglish 
            ? 'text-black font-semibold border-b border-black' 
            : 'text-gray-500 hover:text-black'
        }`}
      >
        RU
      </a>
      <span class="text-gray-300">|</span>
      <a 
        href={isEnglish ? currentPath : `/en${currentPath}`}
        class={`px-2 py-1 transition-colors no-underline ${
          isEnglish 
            ? 'text-black font-semibold border-b border-black' 
            : 'text-gray-500 hover:text-black'
        }`}
      >
        EN
      </a>
    </div>
  </div>
</header>